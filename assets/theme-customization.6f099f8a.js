var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,l=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&i(e,a,t[a]);if(n)for(var a of n(t))r.call(t,a)&&i(e,a,t[a]);return e};import{c as s,L as p}from"./clientRender.715dbcf5.js";import{M as u}from"./theme-interface.c6489962.js";const m={};function c(e){var i,c=e,{components:h}=c,d=((e,t)=>{var a={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&n)for(var i of n(e))t.indexOf(i)<0&&r.call(e,i)&&(a[i]=e[i]);return a})(c,["components"]);return s("wrapper",(i=l(l({},m),d),t(i,a({components:h,mdxType:"MDXLayout"}))),s("h1",null,"Theme customization"),s("blockquote",null,s("p",{parentName:"blockquote"},"This is an advance guide about how to make a theme by yourself. If there is already themes that meet your needs(.e.g ",s(p,{to:"/official-theme",mdxType:"Link"},"the official theme"),"), you don't need to read this guide now!")),s("p",null,"Vite-pages itself doesn't render any concrete DOM node. Users can customize ",s("strong",{parentName:"p"},"anything")," with a theme. That's why theme is so powerful."),s("p",null,"To use a theme, users should export their theme from ",s("inlineCode",{parentName:"p"},"_theme.tsx"),". It should export a React compoent. It will be rendered by vite-pages core, and get useful info from props:"),s("ul",null,s("li",{parentName:"ul"},"All pages' static data"),s("li",{parentName:"ul"},"All runtime data that is already loaded"),s("li",{parentName:"ul"},"The current loading state of the app")),s("p",null,"Here is the interface of a theme:"),s(u,{mdxType:"ThemeInterface"}),s("p",null,'You can learn more about the "data" received by the render functions in ',s(p,{to:"/page-data",mdxType:"Link"},"the page data doc"),"."),s("p",null,"This is probably ",s("a",l({parentName:"p"},{href:"https://github.com/vitejs/vite-plugin-react-pages/blob/master/packages/playground/basic/pages/_theme.tsx"}),"the simplest theme"),":"),s("pre",null,s("code",l({parentName:"pre"},{className:"language-tsx"}),"import React, { useMemo } from 'react'\nimport type { Theme } from 'vite-plugin-react-pages'\n\nconst Theme: Theme = ({ staticData, loadedData, loadState }) => {\n  console.log('#Theme', staticData, loadedData, loadState)\n\n  // You can generate side nav menu from staticData\n  // const sideMenuData = useMemo(() => generateSideMenu(staticData), [staticData])\n\n  if (loadState.type === '404') return <p>Page not found.</p>\n  if (loadState.type === 'load-error') return <p>Load error!</p>\n  if (loadState.type === 'loading') return <p>Loading...</p>\n\n  // loadState.type === 'loaded'\n  // Runtime page data for current page\n  const pageData = loadedData[loadState.routePath]\n  // the default export of the main module\n  const Component = pageData.main.default\n  return <Component />\n}\n\nexport default Theme\n")),s("blockquote",null,s("p",{parentName:"blockquote"},"Here is a more useful theme: ",s("a",l({parentName:"p"},{href:"https://github.com/vitejs/vite-plugin-react-pages/blob/master/packages/theme-doc/src/index.tsx"}),"vite-pages-theme-doc"),". Learn more about it in ",s(p,{to:"/official-theme",mdxType:"Link"},"this guide"),".")),s("p",null,"You can customize every bits of UI with theme. Welcome to share your theme with a npm package!"),s("h2",null,"Suggestions"),s("h3",null,"To theme providers: make your theme easier to use"),s("p",null,"We encourage theme providers to export your theme as ",s("strong",{parentName:"p"},"a config function")," that receive user config and return a ",s("inlineCode",{parentName:"p"},"Theme"),"."),s("p",null,"For example, the theme provider can export theme like this:"),s("pre",null,s("code",l({parentName:"pre"},{className:"language-tsx"}),"// The theme config function accepts navs config\nexport default function createTheme({ navs }: Option = {}): Theme {\n  return ({ loadedData, loadState }) => {\n    if (loadState.type !== 'loaded')\n      return (\n        <Layout navs={navs}>\n          <p>Loading...</p>\n        </Layout>\n      )\n    // Runtime page data for current page\n    const pageData = loadedData[loadState.routePath]\n    // the default export of the main module\n    const Component = pageData.main.default\n    return (\n      <Layout navs={navs}>\n        <Component />\n      </Layout>\n    )\n  }\n}\n")),s("p",null,"Theme consumers can use it to config their navs menu:"),s("pre",null,s("code",l({parentName:"pre"},{className:"language-tsx"}),"// Theme users can configure sideMenu in `/_theme.tsx`:\nimport createTheme from 'theme-pkg'\nexport default createTheme({\n  navs: [\n    { path: '/guides/guide1', label: 'guide1' },\n    { path: '/guides/guide2', label: 'guide1' },\n  ],\n})\n")),s("p",null,"As you can see, the theme is easier to use because ",s("strong",{parentName:"p"},"theme consumers don't need to know about the ",s("inlineCode",{parentName:"strong"},"Theme")," API of vite-pages"),". They only need to know about ",s("inlineCode",{parentName:"p"},"createTheme")," API from the theme. Users should be talking to the theme, instead of talking directly to vite-pages framework."),s("p",null,"For this reason, we encourage theme providers to export config function like the ",s("inlineCode",{parentName:"p"},"createTheme")," above."),s("blockquote",null,s("p",{parentName:"blockquote"},"You can refer to ",s("a",l({parentName:"p"},{href:"https://github.com/vitejs/vite-plugin-react-pages/blob/master/packages/theme-doc/src/index.tsx"}),"vite-pages-theme-doc"))),s("h4",null,"Release the power of Typescript"),s("p",null,'The above example show another benefit for users: theme users can get Typescript type-check and intelliSense when they are configuring theme. This is because users are calling the theme config function, instead of "exporting some configs".'),s("h2",null,"Share your theme!"),s("p",null,"It is easy to write a theme that is sharable and configurable."),s("p",null,"If you have designed and implemented a theme (.e.g a blog theme, a document site theme), welcome to add a link to your theme package in this document!"))}c.isMDXComponent=!0;var h=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:c});const d={};d.main=h;export default d;
